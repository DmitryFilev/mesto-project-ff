(()=>{"use strict";function e(e,t,n,r){var o=document.querySelector("#"+n.id).content.querySelector("."+n.core).cloneNode(!0);return o.querySelector("."+n.img).src=t,o.querySelector("."+n.img).alt=e+". Панорамный вид.",o.querySelector("."+n.title).textContent=e,o.querySelector("."+n.like).addEventListener("click",(function(e){e.target.classList.toggle(n.likeAct)})),o.querySelector("."+n.del).addEventListener("click",(function(e){e.target.parentNode.remove()})),o.querySelector("."+n.img).addEventListener("click",r),o}var t;function n(e,n){e.classList.add(n),t=function(e){!function(e,t){"Escape"===e.key&&r(document.querySelector("."+t),t)}(e,n)},document.addEventListener("keydown",t)}function r(e,n){e.classList.remove(n),document.removeEventListener("keydown",t)}var o=document.querySelector(".places__list"),c=document.querySelector(".profile__title"),a=document.querySelector(".profile__description"),i=document.forms["edit-profile"],d=i.name,l=i.description,u=document.querySelector(".popup_type_edit"),s=document.querySelector(".profile__edit-button"),p=document.querySelector(".popup_type_new-card"),m=document.querySelector(".profile__add-button"),v=document.forms["new-place"],y=v["place-name"],_=v.link,f="popup_is-opened",k=document.querySelector(".popup_type_image"),g=document.querySelector(".popup__image"),q=document.querySelector(".popup__caption"),S={id:"card-template",core:"places__item",title:"card__title",del:"card__delete-button",like:"card__like-button",img:"card__image",likeAct:"card__like-button_is-active"};function L(e){g.src=e.target.src,g.alt=e.target.alt,q.textContent=e.target.parentNode.querySelector("."+S.title).textContent,n(k,f)}function E(e){e.target.classList.contains(f)&&r(e.target,f)}function x(e){r(e.target.closest("."+f),f)}document.querySelectorAll(".popup").forEach((function(e){e.classList.add("popup_is-animated"),e.addEventListener("click",E),e.querySelector(".popup__close").addEventListener("click",x)})),m.addEventListener("click",(function(){y.value="",_.value="",n(p,f)})),s.addEventListener("click",(function(){d.value=c.textContent,l.value=a.textContent,n(u,f)})),v.addEventListener("submit",(function(t){t.preventDefault();var n=e(y.value,_.value,S,L);y.value="",_.value="",o.prepend(n),r(p,f)})),i.addEventListener("submit",(function(e){e.preventDefault(),c.textContent=d.value,a.textContent=l.value,r(u,f)})),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(t){return o.append(e(t.name,t.link,S,L))}))})();